</div><!-- End of dashboard-container -->

  <!-- Sidebar Overlay for Mobile -->
  <div class="sidebar-overlay"></div>

  <!-- jQuery from CDN -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  
  <!-- Bootstrap JS from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Moment.js for date handling -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
  
  <!-- Chart.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
  
  <!-- Chart.js Moment Adapter -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@1.0.1/dist/chartjs-adapter-moment.min.js"></script>
  
  <!-- Custom scripts for all pages -->
  <script>
    // Toggle sidebar on mobile
    document.addEventListener('DOMContentLoaded', function() {
      const sidebar = document.querySelector('.sidebar');
      const sidebarToggle = document.querySelector('.sidebar-toggle');
      const sidebarOverlay = document.querySelector('.sidebar-overlay');
      const contentWrapper = document.querySelector('.content-wrapper');
      
      // Toggle sidebar function
      function toggleSidebar() {
        sidebar.classList.toggle('active');
        sidebarOverlay.classList.toggle('active');
        document.body.classList.toggle('sidebar-active');
      }
      
      // Add click event to toggle button
      if (sidebarToggle) {
        sidebarToggle.addEventListener('click', toggleSidebar);
      }
      
      // Close sidebar when clicking on overlay
      if (sidebarOverlay) {
        sidebarOverlay.addEventListener('click', toggleSidebar);
      }
      
      // Close sidebar when clicking on a menu item (on mobile)
      const menuItems = document.querySelectorAll('.sidebar-menu a');
      menuItems.forEach(item => {
        item.addEventListener('click', function() {
          if (window.innerWidth < 768 && sidebar.classList.contains('active')) {
            toggleSidebar();
          }
        });
      });
      
      // Handle resize events
      window.addEventListener('resize', function() {
        if (window.innerWidth >= 768) {
          sidebar.classList.remove('active');
          sidebarOverlay.classList.remove('active');
          document.body.classList.remove('sidebar-active');
        }
      });

      // Try to auto-fix chart rendering issues by resizing after load
      if (window.sensorChart) {
        setTimeout(() => {
          window.dispatchEvent(new Event('resize'));
        }, 500);
      }
    });
  </script>
</body>
</html>